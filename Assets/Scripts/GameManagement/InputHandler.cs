using UnityEngine;
using UnityEngine.InputSystem;
using BetterDebug;
using AutoGenerated.Input;

namespace GameManagement.Input
{
    public class InputHandler : MonoBehaviour
    {
        private PlayerInputActions actions;

        private void Awake()
        {
            actions = new PlayerInputActions();

            actions.PlayerActions.Jump.performed += PlayerJump;

            EnablePlayerActionMap(actions);
        }

        private void FixedUpdate()
        {
            Vector2 movementVector = actions.PlayerActions.Movement.ReadValue<Vector2>();
        }

        private void EnablePlayerActionMap(PlayerInputActions actions)
        {
            actions.PlayerActions.Enable();
        }

        private void PlayerJump(InputAction.CallbackContext context)
        {
            AdvancedDebug.Log("Input action: " + context);
        }
    }
}